server:
    mcelogs:
        default:
            columns: timestamp instance app stack level message
        spec:
            index: filebeat-*-%Y%m%d
            url: http://es-tribe-mcelogs2.us-east-1.dyn{effective_env}.net:7104
            analyzed: raw message
            date: timestamp
            term:
                - age app asg class env host instance instance_type level region source thread stack type zone
                - archerApp archerJob titusJob titusTask
                - agent cookie endpoint execId function method query referrer response
                - assetId messageId msgId packageId recvCount taskId version
    secops:
        default:
            columns: eventTime awsRegion eventName eventSource eventType userAgent
        spec:
            index: "bigbrother_%Y%m%d"
            url: http://es_secops.us-east-1.dynprod.net:7104/
            analyzed: userAgent
            date: eventTime
            term:
                - awsRegion eventName eventSource eventTime eventType readOnly recipientAccountId requestParameters.associationFilterList
                - requestParameters.maxResults resources responseElements sourceIPAddress userIdentity.accessKeyId
                - userIdentity.accountId userIdentity.arn userIdentity.principalId
                - userIdentity.sessionContext.attributes.creationDate userIdentity.sessionContext.attributes.mfaAuthenticated
                - userIdentity.sessionContext.sessionIssuer.accountId userIdentity.sessionContext.sessionIssuer.arn
                - userIdentity.sessionContext.sessionIssuer.principalId userIdentity.sessionContext.sessionIssuer.type
                - userIdentity.sessionContext.sessionIssuer.userName userIdentity.type

    fs:
        default:
            columns: ts cycleId queueName queueFairShare queueAllocated queueDemand appFullName appAllocated
            timeseries: planningDateTimeEpochInSeconds
        spec:
            index: titusgrazr_fairscheduler_%Y%m
            url: http://es_mce5.us-east-1.dynprod.net:7104
            date: planningDateTimeEpochInSeconds ts
            term:
                - app appAllocated appDemand appFairShare appFullName appQueueName appWeight chukwa_uid cycleId hostname
                - queueAllocated queueDemand queueFairShare queueName queueWeight runningApps stackName

    id:
        default:
            columns: timestamp CW_indexer_node CW_indexer_app severity message
            timeseries: timestamp
        spec:
            index: workingtitleapi-production-custom*
            url: http://es_identity.us-west-2.dynprod.net:7104
            date: timestamp
            term:
                - action amazon_id controller cpe_auth_domain_name
                - CW_indexer_app CW_indexer_az CW_indexer_cluster CW_indexer_detail CW_indexer_environment
                - CW_indexer_node CW_indexer_node_asg CW_indexer_node_hostname CW_indexer_region CW_indexer_stack
                - env_user error format host ip
                - job.args job.class job.jid job.queue job.unique job.unique_args job.unique_digest job.unique_prefix
                - location message method name params_include path queue
                - request_api request_host request_id request_library request_method request_uri
                - route severity source tags type user user_agent user_auth version worker_class
                - db duration elapsed_ms job.created_at job.enqueued_at status value view
                - job.retry

    studio:
        default:
            columns: timestamp stack app node severity message
            timeseries: timestamp
        spec:
            index: workingtitleapi-*
            url: http://es-studio-eng1.us-west-2.dynprod.net:7104
            analyzed: message
            date: timestamp
            term:
                - action.keyword amazon_id.keyword controller.keyword cpe_auth_domain_name.keyword
                - app:CW_indexer_app.keyword az:CW_indexer_az.keyword cluster:CW_indexer_cluster.keyword detail:CW_indexer_detail.keyword
                - env:CW_indexer_environment.keyword node:CW_indexer_node.keyword asg:CW_indexer_node_asg.keyword
                - hostname:CW_indexer_node_hostname.keyword region:CW_indexer_region.keyword stack:CW_indexer_stack.keyword
                - env_user.keyword format.keyword host.keyword ip.keyword method.keyword params_include.keyword path.keyword
                - request_id.keyword route.keyword severity.keyword source.keyword tags.keyword type.keyword user.keyword
                - user_agent.keyword user_auth.keyword version.keyword

    studio_test:
        default:
            columns: timestamp stack app node severity message
            timeseries: timestamp
        spec:
            index: workingtitleapi-*
            url: http://es-studio-eng1.us-east-1.dyntest.net:7104
            analyzed: message
            date: timestamp
            term:
                - action.keyword amazon_id.keyword controller.keyword cpe_auth_domain_name.keyword
                - app:CW_indexer_app.keyword az:CW_indexer_az.keyword cluster:CW_indexer_cluster.keyword detail:CW_indexer_detail.keyword
                - env:CW_indexer_environment.keyword node:CW_indexer_node.keyword asg:CW_indexer_node_asg.keyword
                - hostname:CW_indexer_node_hostname.keyword
                - region:CW_indexer_region.keyword stack:CW_indexer_stack.keyword
                - env_user.keyword format.keyword host.keyword ip.keyword method.keyword params_include.keyword path.keyword
                - request_id.keyword route.keyword
                - severity.keyword source.keyword tags.keyword type.keyword user.keyword user_agent.keyword user_auth.keyword
                - version.keyword

    vandam:
        default:
            columns: ts app stack level message
            timeseries: ts
        spec:
            index: vandam_app_logs%Y%m%d
            url: http://es-share5.us-east-1.dyn{effective_env}.net:7104/
            analyzed: message
            date: ts log_ts
            term:
                - app asg chukwa_uid class cluster DB environment Exception hostname level
                - logger region stack thread throwable

    package:
        default:
            prod: true
            timeseries: createdTs
        spec:
            index: "*_package_fragment"
            url: http://es_mce.us-east-1.dyn{effective_env}.net:7104
            analyzed: kind
            date:
                - createdTs
                - copyStartedTime publishedOn revivedTs migratedOn httpBody.createdTs reloadedOn dateMarkedAsGarbage disabledTs execEndTime
                - windowStartDateExcludeTestCountries inspectionCompletionTime windowEndDate windowStartDate changedOn updatedTs
                - dateMarkedAsExpired windowEndDateExcludeTestCountries expirationTs httpBody.updatedTs

    adhoc:
        default:
            prod: true
            timeseries: createdTs
        spec:
            index: "*_adhoc_fragment"
            url: http://es_mce.us-east-1.dyn{effective_env}.net:7104
            analyzed: kind
            date:
                - createdTs
                - copyStartedTime publishedOn revivedTs migratedOn httpBody.createdTs reloadedOn dateMarkedAsGarbage disabledTs execEndTime
                - windowStartDateExcludeTestCountries inspectionCompletionTime windowEndDate windowStartDate changedOn updatedTs
                - dateMarkedAsExpired windowEndDateExcludeTestCountries expirationTs httpBody.updatedTs

    archerexec:
        default:
            columns: createdTs status lastUpdatedStage jobId appExecutionId appConfigDigest updatedTs appQueueName
            timeseries: createdTs
        spec:
            index: "*_archer_execution"
            url: http://es_mce.us-east-1.dyn{effective_env}.net:7104
            date:
                - createdTs updatedTs
            term:
                - appConfigDigest appExecutionId appQueueName archerApp jobId lastUpdatedStage status

    mantis:
        default:
            columns: instance message
        spec:
            index: logs_*%Y%m%d
            url: http://es_tribe_mantis_analysis2.us-east-1.dyn{effective_env}.net:7104
            analyzed: message
            date: timestamp
            term:
                - app asg env input_type instance offset region source stack tags type

    beehivelogs:
        default:
            columns: timestamp app instance class method
        spec:
            index: filebeat-*-%Y%m%d
            url: http://es-beehivelogs.us-east-1.dyn{effective_env}.net:7104
            analyzed: message
            date: timestamp
            term:
                - env stack instance_type asg instance app source level class method thread

# Internal defaults, this can easily be overriden via another config file, or command line args
# Command line args have the same name (ie: --server, --lookback etc)
default:
    lookback: 15
    server: mcelogs
    timeout: 600
